import Diagram, { createSchema, useSchema } from 'beautiful-react-diagrams';
import { FC } from 'react';

const CustomNode: FC = () => {

  return (
    <div className='bg-indigo-400 rounded-full'>
      <div style={{ padding: '10px', color: 'white' }}>
        Custom Node
      </div>
      <div>Test</div>
    </div >
  );
};

const initialSchema = createSchema({
  nodes: [
    {
      id: 'node-1',
      content: 'Node 1',
      coordinates: [50, 60],
      outputs: [{ id: 'port-1', alignment: 'right' }],
    },
    {
      id: 'node-2',
      coordinates: [250, 60],
      render: CustomNode,
      inputs: [{ id: 'port-1', alignment: 'left' }],
      outputs: [{ id: "port-1", alignment: "top" }]
    },
  ],
  links: [
    { input: "node-1", output: "node-2", label: "Node link" }
  ]
});

const UncontrolledDiagram = () => {
  // create diagrams schema
  const [schema, { onChange }] = useSchema(initialSchema);

  return (
    <div className="h-96 w-full">
      <Diagram schema={schema} onChange={onChange} />
    </div>
  );
};

export default UncontrolledDiagram;
