import { atom } from "jotai";

import { AUTH_TOKEN } from "@utils/constants";

const isAuthenticatedAtom = atom<boolean>(false);

export const authAtom = atom(
  (get) => get(isAuthenticatedAtom),
  (_get, set, newValue: boolean) => {
    set(isAuthenticatedAtom, newValue);
    localStorage.setItem(AUTH_TOKEN, newValue ? "true" : "");
  }
);

