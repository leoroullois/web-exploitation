import type { NextPage } from "next";

import { gql, useQuery } from "@apollo/client";
import Main from "@common/main/Main";
import { MouseEventHandler } from "react";
import Wrapper from "@common/wrapper/Wrapper";

const USERS_QUERY = gql`
   {
      users {
         id
         name
         email
      }
   }
`;

const Home: NextPage = () => {
  const { data, refetch } = useQuery(USERS_QUERY);

  const handleClick: MouseEventHandler = (e) => {
    refetch();
  };

  const deleteCookie: MouseEventHandler = (e) => {
    console.log(e);
  };

  return (
    <Main>
      <Wrapper className='flex-col py-5 gap-y-5'>
        <h1 className='text-3xl font-bold text-blue-500'>
          Accueil : principale
        </h1>
        <h2 className='text-5xl font-bold'>Example title</h2>

        <p className='font-sans text-xl font-semibold'>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vero,
          cum at. Quae dolorum facilis culpa eos accusamus maiores
          doloribus, consectetur iste nobis. Reprehenderit odit debitis,
          repellendus deserunt voluptatem beatae! Fuga?
        </p>
        <p className='font-sans text-xl font-semibold'>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vero,
          cum at. Quae dolorum facilis culpa eos accusamus maiores
          doloribus, consectetur iste nobis. Reprehenderit odit debitis,
          repellendus deserunt voluptatem beatae! Fuga?
        </p>
        <button
          className='p-5 duration-100 bg-indigo-500 rounded-lg hover:bg-indigo-600'
          onClick={handleClick}
        >
          Refetch
        </button>
        <button
          className='p-5 duration-100 bg-red-500 rounded-lg hover:bg-red-600'
          onClick={deleteCookie}
        >
          Delete cookie name
        </button>
      </Wrapper>
    </Main>
  );
};

export default Home;

